<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>Protocolo DHCP</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="La distribución Aprendiendo de Jesús de OpenBSD como servidor y cortafuegos"
HREF="book1.htm"><LINK
REL="UP"
TITLE="Protocolos de soporte y de usuario"
HREF="c1096.htm"><LINK
REL="PREVIOUS"
TITLE="Servidor ssh"
HREF="x1198.htm"><LINK
REL="NEXT"
TITLE="Servidor ntp"
HREF="x1267.htm"></HEAD
><BODY
CLASS="sect1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>La distribución Aprendiendo de Jesús de OpenBSD como servidor y cortafuegos</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="x1198.htm"
ACCESSKEY="P"
>Anterior</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Capítulo 5. Protocolos de soporte y de usuario</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="x1267.htm"
ACCESSKEY="N"
>Siguiente</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="sect1"
><H1
CLASS="sect1"
><A
NAME="dhcp"
>Protocolo <B
CLASS="command"
>DHCP</B
></A
></H1
><P
>El protocolo DHCP se describen en el RFC 2131 (ver <A
HREF="b2983.htm#rfc2131"
>[rfc2131]</A
>),
	  se trata de un modelo cliente-servidor en el que el servidor DHCP
	  localiza direcciones IP libres en una red y envia parámetros de 
	  configuración a computadores cliente que se configuran 
	  dinámicamente. Entre los parámetros de configuración que un
	  servidor puede enviar están: IP por asignar al computador, IP
	  de la puerta de enlace, IPs de servidores de nombres, 
	  nombre del dominio por utilizar.
  </P
><P
>&#13;	  En su modo de operación dinámico el servidor
	  le asigna una IP a un sólo cliente por cierto periodo de tiempo, al
	  cabo del cual podría asignarle otra IP<A
NAME="AEN1229"
HREF="#FTN.AEN1229"
><SPAN
CLASS="footnote"
>[1]</SPAN
></A
>.
  </P
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="cliente-DHCP"
>Configuración de un cliente DHCP</A
></H2
><P
>La configuración de un computador para operar como
		  cliente de DHCP depende del sistema operativo, en el caso
		  de Windows en las propiedades TCP/IPv4 de la tarjeta puede
		  especificarse obtener dirección automáticamente. 
		  En el caso de Linux 
		  Ubuntu al Editar las Conexiones de Red puede especificarse
		  que una tarjeta de red usará DHCP.  Un OpenBSD con una
		  interfaz de red (digamos <TT
CLASS="literal"
>rl0</TT
>) 
		  se configura como cliente de DHCP desde la línea
		  de comandos con:
		  <PRE
CLASS="screen"
>&#13;sudo dhclient rl0 
		  </PRE
>
		  que lee parámetros de configuración de
		  <TT
CLASS="filename"
>/etc/dhclient.conf</TT
> (el cual por defecto
		  está configurado para solicitar mascara de red, servidores 
		  de nombres, dirección de difusión --broadcast--, 
		  nombre del dominio,
		  nombre del computador y puerta de enlace).
		  Puede configurarse de manera permanente para que en
		  cada arranque se use este protocolo en una interfaz 
		  (remplazar <TT
CLASS="literal"
>rl0</TT
> por la de su caso)
		  dejando en el archivo
		  <TT
CLASS="filename"
>/etc/hostname.rl0</TT
> la línea:
		  <PRE
CLASS="screen"
>&#13;dhcp
		  </PRE
>
	  	</P
></DIV
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="servidor-DHCP"
>Configuración de un servidor DHCP</A
></H2
><P
>Una configuración típica para un servidor DHCP que servirá
	  direcciones para la red local 192.168.17.x en el rango
	  192.168.17.142 a 192.168.17.164 y que enviará además
	  entre los parámetros el dominio, la puerta de enlace y la
	  IP del servidor de nombres,
	  se hace en el archivo <TT
CLASS="filename"
>/etc/dhcpd.conf</TT
> con:
  <PRE
CLASS="screen"
>&#13;shared-network LOCAL-NET {
        option  domain-name "miescuela.edu.co";
        option  domain-name-servers 192.168.17.1;
        subnet 192.168.17.0 netmask 255.255.255.0 {
                option routers 192.168.17.1;
                range 192.168.17.142 192.168.17.164;
        }
}
  </PRE
>
	También asegurese de iniciar el servicio DHCP editando
	<TT
CLASS="filename"
>/etc/rc.conf.local</TT
> para agregar:
	<PRE
CLASS="screen"
>&#13;dhcpd_flags=""
	</PRE
>
	o en lugar de "" puede especificar las interfaces de red 
	que el servidor debe atender separadas por espacio.
</P
></DIV
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="referencias-dhcpd"
>Referencias y lecturas recomendadas</A
></H2
><P
>&#13;	    Las siguientes páginas man:
	    <SPAN
CLASS="citerefentry"
><SPAN
CLASS="refentrytitle"
>dhcp</SPAN
>(8)</SPAN
>,
      <SPAN
CLASS="citerefentry"
><SPAN
CLASS="refentrytitle"
>dhclient</SPAN
>(8)</SPAN
>,
      <SPAN
CLASS="citerefentry"
><SPAN
CLASS="refentrytitle"
>dhclient.conf</SPAN
>(5)</SPAN
>, 
      <SPAN
CLASS="citerefentry"
><SPAN
CLASS="refentrytitle"
>dhcpd</SPAN
>(8)</SPAN
> y 
      <SPAN
CLASS="citerefentry"
><SPAN
CLASS="refentrytitle"
>dhcpd.conf</SPAN
>(5)</SPAN
>.
    </P
><P
>El RFC 2131 (ver <A
HREF="b2983.htm#rfc2131"
>[rfc2131]</A
>).</P
></DIV
></DIV
><H3
CLASS="FOOTNOTES"
>Notas</H3
><TABLE
BORDER="0"
CLASS="FOOTNOTES"
WIDTH="100%"
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="5%"
><A
NAME="FTN.AEN1229"
HREF="x1223.htm#AEN1229"
><SPAN
CLASS="footnote"
>[1]</SPAN
></A
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="95%"
><P
>Típicamente 
			  un cliente
			  enviará un paquete DHCPDISCOVER a toda la red (opcionalmente
			  con sugerencia de la IP que quiere), un servidor que
	  reciba tal paquete le responderá con un DHCPOFFER con una oferta
	  de parámetros de configuración, el cliente puede responder con
	  DHCPREQUEST para confirmar los parámetros y el servidor responde
	  con un DHCPACK para confirmar asignación.</P
></TD
></TR
></TABLE
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="x1198.htm"
ACCESSKEY="P"
>Anterior</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="book1.htm"
ACCESSKEY="H"
>Inicio</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="x1267.htm"
ACCESSKEY="N"
>Siguiente</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Servidor <B
CLASS="command"
>ssh</B
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="c1096.htm"
ACCESSKEY="U"
>Subir</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Servidor <B
CLASS="command"
>ntp</B
></TD
></TR
></TABLE
></DIV
></BODY
></HTML
>